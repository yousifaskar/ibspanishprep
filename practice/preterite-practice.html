<!DOCTYPE html>

<html lang = "en">
    <head>
        <title>CasaIB</title>
        <!-- Required meta tags always come first -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

        <!-- Font Awesome -->
        <script src="https://use.fontawesome.com/03e2de1992.js"></script>

        <!--NavBar StyleSheet -->
        <link rel = "stylesheet" href = "/ibspanishprep/css/navbarbs.css">

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176046230-1"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-176046230-1');
        </script>
        <style>
            canvas { background: #eee; display: block; margin: 0 auto;}
            body {
                background-image: url('retro.jpg');
                background-repeat: no repeat;
                background-attachment: fixed;
                background-size: cover;
            }
            .diffButton {
                        background-color: black;
                        width: 30%;
                        height: 25%;
                        margin-left: 40%;
                        margin-right: 40%;
                        font-size: 200%;
                        font-family: 'Press Start 2P', cursive;
                        color: red;
                        margin: 50px;
            }
            .diffButton:hover {
                        cursor: pointer;
                        color: darkred;
            }
            .jumbotron {
                background-color: #B4DFE5;
                color: black;
            }
            .logo-size {
                width: 37;
                height: 37;
            }
            .miniheader {
                color: #4Fb2AF;
                font-style: italic;
            }
            .miniminiheader {
                color: #2E8B57;
            }
            .irregFontSize {
                font-size: 0.9em;
            }
            @media (min-width: 1200px) {
                .padding-left-side-0 {
                    padding-right: 0px;
                }
                .padding-right-side-0 {
                    padding-left: 0px;
                }
            }
            @media (max-width: 768px) {
                .padding-left-0 {
                    padding-left: 0px;
                }
            }
            .diffButton:hover {
                cursor: pointer;
                color: darkred;
            }
            .start2-btn {
                 text-align: center;
                display: inline-block;
                margin:5px;
                 font-size: 300%;
                 font-family: 'Press Start 2P', cursive;
                font-weight: bold;
                padding: 10px 0 10px 10px ;
                background-color: lightgray;
                text-shadow: -1px -1px black, 1px 1px white;
                color: gray;
                -webkit-border-radius: 7px;
                -moz-border-radius: 7px;
                -o-border-radius: 7px;
                border-radius: 7px;
                box-shadow: 0 0.4em gray;
                cursor: pointer;
                padding: 30px;
            }
            .start2-btn:hover {
                background-color: #AAAAAA;
            }
        </style>
    </head>
    <body>
      <nav class="navbar navbar-expand-lg navbar-light" style = "background-image: linear-gradient(to right, #F4976C, #FBE8A6)">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>
        <a class="navbar-brand" href="/ibspanishprep/landing/index.html"><img class = "logo-size img-fluid" style = "width: 37px; height: 37px" src = "/img/real_logo.png" alt = "CasaIB"></a>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
              <li class="nav-item dropdown">
                <a class="nav-link" href = "" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Conjugations
                </a>
                <div class="dropdown-menu nav-link-backgrounds" aria-labelledby="navbarDropdownMenuLink">
                  <ul class = "nav-link-bullet-points-show">
                      <li><a class="dropdown-item" href = "/ibspanishprep/conj/present-tense.html">Present</a></li>
                      <li><a class="dropdown-item" href = "/ibspanishprep/conj/present-progressive-tense.html">Present Progressive</a></li>
                      <li><a class="dropdown-item" href = "/ibspanishprep/conj/preterite-tense.html">Preterite</a></li>
                      <li><a class="dropdown-item" href = "/ibspanishprep/conj/imperfect-tense.html">Imperfect</a></li>
                      <li><a class="dropdown-item" href = "/ibspanishprep/conj/subjunctive-tense.html">Subjunctive Mood</a></li>
                      <li><a class="dropdown-item" href = "/ibspanishprep/conj/perfect-tense.html">Perfect Tenses</a></li>
                      <li><a class="dropdown-item" href = "/ibspanishprep/conj/future-conditional-tense.html">Future and Conditional</a></li>
                  </ul>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href = "" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Practice
                </a>
                <div class="dropdown-menu nav-link-backgrounds" aria-labelledby="navbarDropdownMenuLink">
                    <ul class = "nav-link-bullet-points-show">
                        <li><a class="dropdown-item" href = "/ibspanishprep/practice/present-practice.html">Present</a></li>
                        <li><a class="dropdown-item" href = "/ibspanishprep/practice/present-progressive-practice.html">Present Progressive</a></li>
                        <li><a class="dropdown-item" href = "/ibspanishprep/practice/preterite-practice.html">Preterite</a></li>
                        <li><a class="dropdown-item" href = "/ibspanishprep/practice/imperfect-practice.html">Imperfect</a></li>
                        <li><a class="dropdown-item" href = "/ibspanishprep/practice/subjunctive-practice.html">Subjunctive Mood</a></li>
                        <li><a class="dropdown-item" href = "/ibspanishprep/practice/perfect-practice.html">Perfect Tenses</a></li>
                        <li><a class="dropdown-item" href = "/ibspanishprep/practice/future-conditional-practice.html">Future and Conditional</a></li>
                    </ul>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href = "" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Grammar
                </a>
                <div class="dropdown-menu nav-link-backgrounds" aria-labelledby="navbarDropdownMenuLink">
                  <ul class = "nav-link-bullet-points-show">
                      <li><a class="dropdown-item" href="/ibspanishprep/grammar/grammar.html">Grammar Concepts</a></li>
                  </ul>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href = "" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  IB Exams
                </a>
                <div class="dropdown-menu nav-link-backgrounds" aria-labelledby="navbarDropdownMenuLink">
                  <ul class = "nav-link-bullet-points-show">
                      <li><a class="dropdown-item" href="/ibspanishprep/ibexams/paper1.html">Paper 1 (Writing)</a></li>
                      <li><a class="dropdown-item" href="/ibspanishprep/ibexams/paper2.html">Paper 2 (Reading/Listening)</a></li>
                      <li><a class="dropdown-item" href="/ibspanishprep/ibexams/oral.html">Individual Oral</a></li>
                  </ul>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href = "" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  About the Author
                </a>
                <div class="dropdown-menu nav-link-backgrounds" aria-labelledby="navbarDropdownMenuLink">
                  <ul class = "nav-link-bullet-points-show">
                      <li><a class="dropdown-item" href="/ibspanishprep/about/author.html">Bio</a></li>
                  </ul>
                </div>
              </li>
          </ul>
        </div>
      </nav>
        <!--Main Content-->
        <div class = "container">
            <div class = "row">
                <div align = "center" class = "col-12" style = "font-family: 'Press Start 2p', cursive; color: white;" id = "startButton">
                    <h1 class = "mt-3 mb-5">Preterite Gravity</h1>
                    <h2 class = "mb-5">Type in the correct conjugation before it reaches the bottom of the screen!</h2>
                    <span onclick = "showLevels(); return false;" style = "width: 30%; height: 40%" class = "start2-btn">START</span>
                </div>
            </div>
            <div class = "row">
                <div id = "levels" align = "center" style = "display: none; font-family: 'Press Start 2p', cursive">
                    <div class = "col-12">
                        <button style = "color: lightskyblue" class = "diffButton" onclick = "startGame(0.8); return false">BEGINNER</button>
                    </div>
                    <div class = "col-12">
                        <button style = "color: lightgreen" class = "diffButton" onclick = "startGame(1.6); return false">MEDIUM</button>
                    </div>
                    <div class = "col-12">
                        <button style = "color: lightyellow" class = "diffButton" onclick = "startGame(3); return false">MR. WATKINS</button>
                    </div>
                    <div class = "col-12">
                        <button style = "color: lightcoral" class = "diffButton" onclick = "startGame(6); return false">IMPOSSIBLE</button>'
                    </div>
                </div>
            </div>

        <div class = "row">
            <div class = "col-md-4">
                <div id = "game" style = "display: none">
                    <canvas id = "myCanvas" width = "1365" height = "535"></canvas>
                    <form autocomplete = "off" onsubmit = "check(); return false">
                        <input style = "width: 100%; padding: 10px 20px; background-color: #ADD8E6;" type = "text" placeholder = "Type your answer here..." id = "result">
                    </form>
                </div>
            </div>
        </div>
    </div>
    </body>
        <script>
            var
                canvas = document.getElementById("myCanvas"),
                ctx = canvas.getContext("2d"),
                brickLength = 120,
                yspeed = 1,
                score = 0,
                lives = 3,
                questions = [
                    [
                        'quiso',
                        'tuve',
                        'pusieron',
                        'vivimos',
                        'hiciste',
                        'dijo',
                        'estudiamos',
                        'pudo',
                        'estuve',
                        'vio',
                        'dio',
                        'fuimos',
                        'fueron'
                    ],

                    [
                        'ella (querer)',
                        'Yo (tener)',
                        'Ustedes (poner)',
                        'Nosotros (vivir)',
                        'Tú (hacer)',
                        'Usted (decir)',
                        'Nosotros (estudiar)',
                        'Ella (poder)',
                        'Yo (estar)',
                        'Usted (ver)',
                        'Ella (dar)',
                        'Nosotros (ir)',
                        'Ellos (ser)',
                    ],

                    [
                        32,
                        28,
                        47,
                        47,
                        28,
                        34,
                        59,
                        29,
                        28,
                        29,
                        28,
                        32,
                        29
                    ]
                ]

                // [x coordinate, y coordinate, writing, dx, dy, false = appears] //
                bricks = [
                    [0, 0, brickLength, 0,yspeed, false, '#FFFFFF'],
                    [170, 0, brickLength,2,yspeed, true, '#FFFFCC'],
                    [340, 0, brickLength,-2,yspeed, true, '#00FF00'],
                    [510, 0, brickLength,0,yspeed, true, '#FF0000'],
                    [540, 0, brickLength, 2.2, yspeed, true, '#ffaaee'],
                    [475, 0, brickLength, -1.8, yspeed, true, '#7fe5f0'],
                    [164, 0, brickLength, 2.2, yspeed, true, '#5ac18e'],
                    [270, 0, brickLength, -2.2, yspeed, true, '#ffa500'],
                    ],

                RNquestion = Math.floor(Math.random()*questions[0].length),
                RNblock = Math.floor(Math.random()*bricks.length);

            function drawBricks() {
                xcoord = bricks[RNblock][0];
                ycoord = bricks[RNblock][1];
                HandW = bricks[RNblock][2];
                color = bricks[RNblock][6];

                ctx.beginPath();
                ctx.rect(xcoord,ycoord,HandW,HandW);
                ctx.fillStyle = color;
                ctx.fill();
                ctx.closePath();
            }

            function drawLives() {
                ctx.beginPath();
                ctx.font = "16px Arial";
                ctx.fillStyle = "#0095DD";
                ctx.fillText("Lives: "+lives,(canvas.width - 75),20);
                ctx.closePath();
            }


            function drawQuestions() {
                question = questions[1][RNquestion];
                xmiddle = bricks[RNblock][0] + (brickLength/2) - questions[2][RNquestion];
                ymiddle = bricks[RNblock][1] + (brickLength/2);
                ctx.beginPath();
                ctx.font = "14px Arial";
                ctx.strokeStyle = "#000000";
                ctx.strokeText(question, xmiddle, ymiddle);
                ctx.closePath();

            }

            function draw() {
                if (document.getElementById("game").style.display === "block") {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    drawScore();
                    drawLives();
                    drawBricks();
                    drawQuestions();
                    bricks[RNblock][0]+=bricks[RNblock][3];
                    bricks[RNblock][1]+=bricks[RNblock][4];
                    xcoord = bricks[RNblock][0];
                    ycoord = bricks[RNblock][1];

                    if ((xcoord<0) || (xcoord + brickLength>canvas.width)) {
                        bricks[RNblock][3] = -bricks[RNblock][3];
                    }
                    if (ycoord<0) {
                        bricks[RNblock][4] = -bricks[RNblock][4];
                    }
                    else if (ycoord + brickLength > canvas.height) {
                        lives--;
                        if (!lives) {
                            alert("GAME OVER: the answer was " + questions[0][RNquestion] + "!");
                            document.location.reload();
                        }
                        else {
                            bricks[RNblock][1] = 0;
                        }
                    }
                }
            }

            function startGame(x) {
                document.getElementById("levels").style.display = "none";
                for (var i = 0; i < bricks.length; i++) {
                    bricks[i][4] = x;
                }
                document.getElementById("game").style.display = "block";
                document.getElementById("result").focus();
            }

            function showLevels() {
                document.getElementById("startButton").style.display = "none";
                document.getElementById("levels").style.display = "block";
            }

            function drawScore() {
                ctx.beginPath();
                ctx.font = "16px Arial";
                ctx.fillStyle = "#0095DD";
                ctx.fillText("Score: "+score,8,20);
                ctx.closePath();
            }

            function check() {
                user = document.getElementById("result").value;
                user2 = user.toLowerCase();
                answer = questions[0][RNquestion];
                question = questions[1][RNquestion];
                if (user2 == answer) {
                    document.getElementById("result").style.backgroundColor = "#ADD8E6";
                    score++;
                    if (score == 13) {
                        alert("CONGRATULATIONS, YOU WON!");
                        document.location.reload();
                    }
                    questions[0].splice(RNquestion,1);
                    questions[1].splice(RNquestion,1);
                    questions[2].splice(RNquestion,1);
                    RNquestion = Math.floor(Math.random()*questions[0].length);
                    RNblock = Math.floor(Math.random()*bricks.length);
                    document.getElementById("result").value = "";
                    bricks[RNblock][1] = 0;
                }
                else {
                    document.getElementById("result").style.backgroundColor = "#FFAAAA";
                }
            }
            setInterval(draw, 10);
        </script>
        <!-- jQuery first, then Popper.js, then Bootstrap JS. -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    </body>
</html>
